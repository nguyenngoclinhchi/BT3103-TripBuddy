(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["settings"],{"129f":function(t,i){t.exports=Object.is||function(t,i){return t===i?0!==t||1/t===1/i:t!=t&&i!=i}},"498a":function(t,i,a){"use strict";var e=a("23e7"),n=a("58a8").trim,o=a("c8d2");e({target:"String",proto:!0,forced:o("trim")},{trim:function(){return n(this)}})},5899:function(t,i){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,i,a){var e=a("1d80"),n=a("5899"),o="["+n+"]",s=RegExp("^"+o+o+"*"),r=RegExp(o+o+"*$"),l=function(t){return function(i){var a=String(e(i));return 1&t&&(a=a.replace(s,"")),2&t&&(a=a.replace(r,"")),a}};t.exports={start:l(1),end:l(2),trim:l(3)}},"841c":function(t,i,a){"use strict";var e=a("d784"),n=a("825a"),o=a("1d80"),s=a("129f"),r=a("14c3");e("search",1,(function(t,i,a){return[function(i){var a=o(this),e=void 0==i?void 0:i[t];return void 0!==e?e.call(i,a):new RegExp(i)[t](String(a))},function(t){var e=a(i,t,this);if(e.done)return e.value;var o=n(t),l=String(this),c=o.lastIndex;s(c,0)||(o.lastIndex=0);var u=r(o,l);return s(o.lastIndex,c)||(o.lastIndex=c),null===u?-1:u.index}]}))},c8d2:function(t,i,a){var e=a("d039"),n=a("5899"),o="​᠎";t.exports=function(t){return e((function(){return!!n[t]()||o[t]()!=o||n[t].name!==t}))}},f9ea:function(t,i,a){"use strict";a.r(i);var e=function(){var t=this,i=t.$createElement,a=t._self._c||i;return t.showNav?a("div",{staticStyle:{"overflow-y":"auto","padding-top":"25px"},attrs:{id:"settings"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"accordion col1",attrs:{role:"tablist"}},[a("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1",attrs:{role:"tab"}},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-1",modifiers:{"accordion-1":!0}}],attrs:{block:"",variant:"info"}},[t._v("Update Name ")])],1),a("b-collapse",{attrs:{accordion:"my-accordion",id:"accordion-1",role:"tabpanel",visible:""}},[a("b-card-body",[a("form",{on:{submit:function(t){t.preventDefault()}}},[a("label",{attrs:{for:"name"}},[t._v("Name")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.name,expression:"name",modifiers:{trim:!0}}],attrs:{placeholder:t.userProfile.name,id:"name",type:"text"},domProps:{value:t.name},on:{input:function(i){i.target.composing||(t.name=i.target.value.trim())},blur:function(i){return t.$forceUpdate()}}})])])],1)],1),a("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1",attrs:{role:"tab"}},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-2",modifiers:{"accordion-2":!0}}],attrs:{block:"",variant:"info"},on:{click:function(i){t.nationality=null!=t.nationality?t.nationality:t.userProfile.nationality}}},[t._v(" Update Nationality ")])],1),a("b-collapse",{attrs:{accordion:"my-accordion",id:"accordion-2",role:"tabpanel"}},[a("b-card-body",{staticStyle:{height:"400px"}},[a("b-form-group",{staticStyle:{margin:"0",padding:"0"}},[a("b-form-tags",{staticClass:"mb-2",attrs:{"no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function(i){var e=i.disabled;return[null!=t.nationality&&t.nationality.length>0?a("ul",{staticClass:"list-inline d-inline-block mb-2"},[a("li",[a("b-form-tag",{staticClass:"list-inline-item",staticStyle:{"font-size":"0.9rem"},attrs:{disabled:e,variant:"info"},on:{remove:function(i){return t.removeTagNationality()}}},[t._v(" "+t._s(t.nationality[0])+" ")])],1)]):t._e(),a("b-dropdown",{staticClass:"my-scrolling-class",attrs:{block:"","menu-class":"w-100",size:"sm",variant:"outline-info"},scopedSlots:t._u([{key:"button-content",fn:function(){return[a("b-icon",{attrs:{icon:"tag-fill"}}),t._v(" Choose countries ")]},proxy:!0}],null,!0)},[a("b-dropdown-form",{on:{submit:function(t){t.stopPropagation(),t.preventDefault()}}},[a("b-form-group",{staticClass:"mb-0",attrs:{description:t.searchDescNationality,disabled:e,label:"Search countries","label-cols-md":"auto","label-for":"tag-search-input-nationality","label-size":"sm"}},[a("b-form-input",{attrs:{autocomplete:"on",id:"tag-search-input-nationality",size:"sm",type:"search"},model:{value:t.searchNationality,callback:function(i){t.searchNationality=i},expression:"searchNationality"}})],1)],1),a("b-dropdown-divider"),t._l(t.availableOptionsNationality,(function(i){return a("b-dropdown-item-button",{key:i,on:{click:function(a){return t.onOptionClickNationality({option:i})}}},[t._v(" "+t._s(i)+" ")])})),0===t.availableOptionsNationality.length?a("b-dropdown-text",[t._v(" There are no countries available to select ")]):t._e()],2)]}}],null,!1,2935581892),model:{value:t.nationality,callback:function(i){t.nationality=i},expression:"nationality"}})],1)],1)],1)],1),a("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1",attrs:{role:"tab"}},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-3",modifiers:{"accordion-3":!0}}],attrs:{block:"",variant:"info"},on:{click:function(i){t.value=null!=t.value?t.value:t.userProfile.country_interested}}},[t._v(" Update customized pinned interesting countries ")])],1),a("b-collapse",{attrs:{accordion:"my-accordion",id:"accordion-3",role:"tabpanel"}},[a("b-card-body",{staticStyle:{"min-height":"400px"}},[a("b-form-group",{staticStyle:{margin:"0",padding:"0"}},[a("b-form-tags",{staticClass:"mb-2",attrs:{"no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function(i){var e=i.tags,n=i.disabled,o=i.addTag,s=i.removeTag;return[0===t.value.length?a("p",[t._v(" There should be at least 1 pinned country in your profile ")]):t._e(),a("section",[a("div",{staticStyle:{"max-width":"400px"}},[e.length>0?a("ul",{staticClass:"list-inline d-inline-block mb-2"},t._l(e,(function(i){return a("li",{key:i,staticClass:"list-inline-item"},[a("b-form-tag",{staticStyle:{"font-size":"0.9rem","margin-bottom":"5px"},attrs:{disabled:n,title:i,variant:"info"},on:{remove:function(t){return s(i)}}},[t._v(" "+t._s(i)+" ")])],1)})),0):t._e()]),a("div",[a("b-dropdown",{staticClass:"my-scrolling-class",staticStyle:{"min-width":"300px"},attrs:{block:"","menu-class":"w-100",size:"sm",variant:"outline-info"},scopedSlots:t._u([{key:"button-content",fn:function(){return[a("b-icon",{attrs:{icon:"tag-fill"}}),t._v(" Choose countries ")]},proxy:!0}],null,!0)},[a("b-dropdown-form",{on:{submit:function(t){t.stopPropagation(),t.preventDefault()}}},[a("b-form-group",{staticClass:"mb-0",attrs:{description:t.searchDesc,disabled:n,label:"Search countries","label-cols-md":"auto","label-for":"tag-search-input","label-size":"sm"}},[a("b-form-input",{attrs:{autocomplete:"on",id:"tag-search-input",size:"sm",type:"search"},model:{value:t.search,callback:function(i){t.search=i},expression:"search"}})],1)],1),a("b-dropdown-divider"),t._l(t.availableOptions,(function(i){return a("b-dropdown-item-button",{key:i,on:{click:function(a){return t.onOptionClick({option:i,addTag:o})}}},[t._v(" "+t._s(i)+" ")])})),0===t.availableOptions.length?a("b-dropdown-text",[t._v(" There are no countries available to select ")]):t._e()],2)],1)])]}}],null,!1,3704736310),model:{value:t.value,callback:function(i){t.value=i},expression:"value"}})],1)],1)],1)],1),a("b-button",{staticStyle:{padding:"8px",width:"100%",height:"100%",display:"block",overflow:"hidden"},on:{click:function(i){t.updateProfile(),t.$bvToast.show("my-toast")}}},[t._v(" Update Profile ")]),a("b-toast",{attrs:{id:"my-toast",solid:"",variant:"warning"},scopedSlots:t._u([{key:"toast-title",fn:function(){return[a("div",{staticClass:"d-flex flex-grow-1 align-items-baseline"},[a("b-img",{staticClass:"mr-2",attrs:{blank:"","blank-color":"#ff5555",height:"12",width:"12"}}),a("strong",{staticClass:"mr-auto"},[t._v("Notice!")]),a("small",{staticClass:"text-muted mr-2"},[t._v("1 seconds ago")])],1)]},proxy:!0}],null,!1,1794389594)},[t._v(" The user profile has been updated. "+t._s(t.extraMessage)+" ")])],1)])]):t._e()},n=[],o=(a("4de4"),a("c975"),a("b0c0"),a("b64b"),a("ac1f"),a("841c"),a("498a"),a("5530")),s=a("2f62"),r={data:function(){return{name:"",showSuccess:!1,nationality:null,value:null,options:this.$store.state.country_options_dropdown,optionsNationality:this.$store.state.country_options_dropdown,search:"",searchNationality:"",extraMessage:""}},methods:{updateProfile:function(){var t=this;console.log("updating Profile!!!"),0===this.nationality.length&&(this.extraMessage+=" Nationality is required when updating Profile, so it is reset back to old value."),0===this.value.length&&(this.extraMessage+=" List of pinned country is required when updating Profile, so it is reset back to old value.");var i=""!==this.name?this.name:this.userProfile.name,a=this.nationality.length>0?this.nationality[0]:this.userProfile.nationality,e=this.value.length>0?this.value:this.userProfile.country_interested;this.$store.dispatch("updateProfile",{email:this.userProfile.email,name:i,nationality:a,country_interested:e}),this.name=i,this.nationality=a,this.value=e,this.showSuccess=!0,setTimeout((function(){t.showSuccess=!1}),2e3)},onOptionClickNationality:function(t){var i=t.option;console.log("nationality"),this.nationality=i,this.search=""},onOptionClick:function(t){var i=t.option,a=t.addTag;a(i),this.search=""},removeTagNationality:function(){console.log("removeTagNationality"),this.nationality=[]},updateValues:function(){console.log("UPDATE IS CALLED!"),console.log("Previous value",this.value),console.log("Previous nationality",this.nationality),null===this.value&&(console.log("After value",this.value),this.value=this.userProfile.country_interested,console.log("value:",this.value)),null===this.nationality&&(console.log("After nationality",this.nationality),this.nationality=[],this.nationality.push(this.userProfile.nationality),console.log("nationality: ",this.nationality))}},created:function(){this.options=this.$store.state.country_options_dropdown,this.optionsNationality=this.$store.state.country_options_dropdown},computed:Object(o["a"])(Object(o["a"])({},Object(s["b"])(["userProfile","country_options_dropdown"])),{},{criteriaNationality:function(){return console.log("criteriaNationality"),this.searchNationality.trim().toLowerCase()},availableOptionsNationality:function(){var t=this;console.log("availableOptionsNationality");var i=this.criteriaNationality,a=this.optionsNationality.filter((function(i){return-1===t.nationality.indexOf(i)}));return i?a.filter((function(t){return t.toLowerCase().indexOf(i)>-1})):a},searchDescNationality:function(){return console.log("searchDescNationality"),this.updateValues(),this.criteriaNationality&&0===this.availableOptionsNationality.length?"There are no tags matching your search criteria":""},criteria:function(){return console.log("criteria"),this.search.trim().toLowerCase()},availableOptions:function(){var t=this;console.log("availableOptions");var i=this.criteria,a=this.options.filter((function(i){return-1===t.value.indexOf(i)}));return i?a.filter((function(t){return t.toLowerCase().indexOf(i)>-1})):a},searchDesc:function(){return console.log("searchDesc"),this.updateValues(),this.criteria&&0===this.availableOptions.length?"There are no tags matching your search criteria":""},showNav:function(){return Object.keys(this.userProfile).length>1&&(null===this.value||null===this.nationality)&&this.updateValues(),Object.keys(this.userProfile).length>1&&this.country_options_dropdown.length>0}})},l=r,c=a("2877"),u=Object(c["a"])(l,e,n,!1,null,null,null);i["default"]=u.exports}}]);
//# sourceMappingURL=settings.8358ad45.js.map