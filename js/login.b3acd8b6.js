(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"129f":function(t,s){t.exports=Object.is||function(t,s){return t===s?0!==t||1/t===1/s:t!=t&&s!=s}},"498a":function(t,s,i){"use strict";var e=i("23e7"),a=i("58a8").trim,o=i("c8d2");e({target:"String",proto:!0,forced:o("trim")},{trim:function(){return a(this)}})},"534f":function(t,s,i){t.exports=i.p+"img/logo1.09dd10d2.png"},5899:function(t,s){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,s,i){var e=i("1d80"),a=i("5899"),o="["+a+"]",n=RegExp("^"+o+o+"*"),r=RegExp(o+o+"*$"),l=function(t){return function(s){var i=String(e(s));return 1&t&&(i=i.replace(n,"")),2&t&&(i=i.replace(r,"")),i}};t.exports={start:l(1),end:l(2),trim:l(3)}},"5de4":function(t,s,i){"use strict";i.r(s);var e=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticStyle:{"max-height":"100vh"},attrs:{id:"login"}},[t.showPasswordReset?i("PasswordReset",{on:{close:function(s){return t.togglePasswordReset()}}}):t._e(),i("section",[t._m(0),i("div",{staticClass:"col2",class:{"signup-form":!t.showLoginForm},staticStyle:{"overflow-y":"auto"}},[t.showLoginForm?i("form",{staticStyle:{"margin-top":"20px"},on:{submit:function(t){t.preventDefault()}}},[i("p",{staticClass:"slogan"},[t._v(" Travel safe, Worry less ")]),i("div",[i("label",{attrs:{for:"email1"}},[t._v("Email")]),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.loginForm.email,expression:"loginForm.email",modifiers:{trim:!0}}],attrs:{id:"email1",placeholder:"you@email.com",type:"text"},domProps:{value:t.loginForm.email},on:{input:function(s){s.target.composing||t.$set(t.loginForm,"email",s.target.value.trim())},blur:function(s){return t.$forceUpdate()}}})]),i("div",[i("label",{attrs:{for:"password1"}},[t._v("Password")]),i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.loginForm.password,expression:"loginForm.password"}],attrs:{autocomplete:"off",id:"password1",placeholder:"Password",type:"password"},domProps:{value:t.loginForm.password},on:{input:function(s){s.target.composing||t.$set(t.loginForm,"password",s.target.value)}}})])]),i("md-button",{staticClass:"md-raised md-primary",on:{click:function(s){return t.login()}}},[t._v("Log In ")]),i("div",{staticClass:"extras"},[i("a",{staticClass:"red-link",on:{click:function(s){return t.togglePasswordReset()}}},[t._v("Forgot Password")]),i("a",{staticClass:"red-link",on:{click:function(s){return t.toggleForm()}}},[t._v("Create an Account")])])],1):i("form",{staticStyle:{"padding-top":"5vh"},on:{submit:function(t){t.preventDefault()}}},[i("div",[i("b-form-group",{attrs:{label:"Name"}},[i("label",[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.signupForm.name,expression:"signupForm.name",modifiers:{trim:!0}}],attrs:{placeholder:"Full Name",type:"text"},domProps:{value:t.signupForm.name},on:{input:function(s){s.target.composing||t.$set(t.signupForm,"name",s.target.value.trim())},blur:function(s){return t.$forceUpdate()}}})])])],1),i("div",[i("b-form-group",{staticStyle:{margin:"0",padding:"0"},attrs:{label:"Nationality"}},[i("b-form-tags",{staticClass:"mb-2",attrs:{"no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function(s){var e=s.disabled;return[t.signupForm.nationality.length>0?i("ul",{staticClass:"list-inline d-inline-block mb-2"},[i("li",[i("b-form-tag",{staticClass:"list-inline-item",staticStyle:{"font-size":"0.9rem"},attrs:{disabled:e,variant:"info"},on:{remove:function(s){return t.removeTagNationality()}}},[t._v(" "+t._s(t.signupForm.nationality[0])+" ")])],1)]):t._e(),i("b-dropdown",{staticClass:"my-scrolling-class",attrs:{block:"","menu-class":"w-100",size:"sm",variant:"outline-info"},scopedSlots:t._u([{key:"button-content",fn:function(){return[i("b-icon",{attrs:{icon:"tag-fill"}}),t._v(" Choose countries ")]},proxy:!0}],null,!0)},[i("b-dropdown-form",{on:{submit:function(t){t.stopPropagation(),t.preventDefault()}}},[i("b-form-group",{staticClass:"mb-0",attrs:{description:t.searchDescNationality,disabled:e,label:"Search countries","label-cols-md":"auto","label-for":"tag-search-input-nationality","label-size":"sm"}},[i("b-form-input",{attrs:{autocomplete:"on",id:"tag-search-input-nationality",size:"sm",type:"search"},model:{value:t.searchNationality,callback:function(s){t.searchNationality=s},expression:"searchNationality"}})],1)],1),i("b-dropdown-divider"),t._l(t.availableOptionsNationality,(function(s){return i("b-dropdown-item-button",{key:s,on:{click:function(i){return t.onOptionClickNationality({option:s})}}},[t._v(" "+t._s(s)+" ")])})),0===t.availableOptionsNationality.length?i("b-dropdown-text",[t._v(" There are no countries available to select ")]):t._e()],2)]}}]),model:{value:t.signupForm.nationality,callback:function(s){t.$set(t.signupForm,"nationality",s)},expression:"signupForm.nationality"}})],1)],1),i("div",[i("b-form-group",{staticStyle:{margin:"0",padding:"0"},attrs:{label:"Do you have any interest in any particular country? Feel free to make customized countries list"}},[i("b-form-tags",{staticClass:"mb-2",attrs:{"no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function(s){var e=s.tags,a=s.disabled,o=s.addTag,n=s.removeTag;return[0===t.value.length?i("p",{staticStyle:{"text-align":"center"}},[t._v(" There should be at least 1 pinned country in your profile ")]):t._e(),e.length>0?i("ul",{staticClass:"list-inline d-inline-block mb-2"},t._l(e,(function(s){return i("li",{key:s,staticClass:"list-inline-item"},[i("b-form-tag",{staticStyle:{"font-size":"0.9rem","margin-bottom":"5px"},attrs:{disabled:a,title:s,variant:"info"},on:{remove:function(t){return n(s)}}},[t._v(t._s(s)+" ")])],1)})),0):t._e(),i("b-dropdown",{staticClass:"my-scrolling-class",attrs:{block:"","menu-class":"w-100",size:"sm",variant:"outline-info"},scopedSlots:t._u([{key:"button-content",fn:function(){return[i("b-icon",{attrs:{icon:"tag-fill"}}),t._v(" Choose countries ")]},proxy:!0}],null,!0)},[i("b-dropdown-form",{on:{submit:function(t){t.stopPropagation(),t.preventDefault()}}},[i("b-form-group",{staticClass:"mb-0",attrs:{description:t.searchDesc,disabled:a,label:"Search countries","label-cols-md":"auto","label-for":"tag-search-input","label-size":"sm"}},[i("b-form-input",{attrs:{autocomplete:"on",id:"tag-search-input",size:"sm",type:"search"},model:{value:t.search,callback:function(s){t.search=s},expression:"search"}})],1)],1),i("b-dropdown-divider"),t._l(t.availableOptions,(function(s){return i("b-dropdown-item-button",{key:s,on:{click:function(i){return t.onOptionClick({option:s,addTag:o})}}},[t._v(" "+t._s(s)+" ")])})),0===t.availableOptions.length?i("b-dropdown-text",[t._v(" There are no countries available to select ")]):t._e()],2)]}}]),model:{value:t.value,callback:function(s){t.value=s},expression:"value"}})],1)],1),i("div",[i("label",{attrs:{for:"email2"}},[t._v("Email")]),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.signupForm.email,expression:"signupForm.email",modifiers:{trim:!0}}],attrs:{id:"email2",placeholder:"you@email.com",type:"text"},domProps:{value:t.signupForm.email},on:{input:function(s){s.target.composing||t.$set(t.signupForm,"email",s.target.value.trim())},blur:function(s){return t.$forceUpdate()}}})]),i("section",[i("div",{staticClass:"col3"},[i("br"),i("em",[t._v("Password requirement")]),i("password",{attrs:{passed_password:t.signupForm.password}})],1),i("div",{staticClass:"col3"},[i("md-field",[i("label",[t._v("Password")]),i("md-input",{staticStyle:{padding:"0"},attrs:{type:"password"},on:{input:t.checkPasswordRegister},model:{value:t.signupForm.password,callback:function(s){t.$set(t.signupForm,"password",s)},expression:"signupForm.password"}})],1),i("md-field",[i("label",[t._v("Confirm password")]),i("md-input",{staticStyle:{padding:"0"},attrs:{type:"password"},on:{input:t.checkPasswordConfirm},model:{value:t.signupForm.confirm_password,callback:function(s){t.$set(t.signupForm,"confirm_password",s)},expression:"signupForm.confirm_password"}})],1),!t.signupForm.confirm_password_match&&t.signupForm.password.length>0?i("p",{staticStyle:{"text-align":"center"}},[t._v(" Password do not match")]):t._e()],1)]),t.signupForm.contains_six_characters&&""!==t.signupForm.name&&""!==t.signupForm.nationality&&""!==t.signupForm.email&&t.signupForm.confirm_password_match&&0!==t.value.length?i("md-button",{staticClass:"md-raised md-primary",on:{click:function(s){return t.signup()}}},[t._v(" Submit ")]):i("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:""}},[t._v(" Submit ")]),i("md-button",{staticClass:"md-raised md-accent",on:{click:function(s){return t.resetForm()}}},[t._v(" Reset Form ")]),i("div",{staticClass:"extras"},[i("a",{on:{click:function(s){t.resetForm(),t.toggleForm()}}},[t._v("Back to Log In")])])],1)])])],1)},a=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"col1"},[e("div",[e("img",{staticStyle:{width:"270px",display:"block","padding-top":"20px","margin-left":"auto","margin-right":"auto"},attrs:{alt:"logo",src:i("534f")}})]),e("h1",[t._v("tripBuddy")]),e("p",[t._v(" tripBuddy is a travel advisory application that provides potential travellers with all the necessary and latest information needed to plan for their travels during the COVID-19 pandemic following the gradual lifting of travel restrictions in some countries. Through a thorough assessment of government policy responses based on the context of each country, the web application aims to give recommendations to users depending on the safety of the destination country and the user profile.")])])}],o=(i("4de4"),i("c975"),i("b0c0"),i("ac1f"),i("841c"),i("498a"),i("5530")),n=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"modal"},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"close",on:{click:function(s){return t.$emit("close")}}},[t._v("close")]),i("h3",[t._v("Reset Password")]),t.showSuccess?i("p",[t._v("Success! Check your email for a reset link.")]):i("div",[i("p",[t._v("Enter your email to reset your password")]),i("form",{on:{submit:function(t){t.preventDefault()}}},[i("label",[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.email,expression:"email",modifiers:{trim:!0}}],attrs:{placeholder:"you@email.com",type:"email"},domProps:{value:t.email},on:{input:function(s){s.target.composing||(t.email=s.target.value.trim())},blur:function(s){return t.$forceUpdate()}}})])]),""!==t.errorMsg?i("p",{staticClass:"error"},[t._v(t._s(t.errorMsg))]):t._e(),i("button",{staticClass:"button",on:{click:function(s){return t.resetPassword()}}},[t._v("Reset")])])])])},r=[],l=(i("96cf"),i("1da1")),c=i("dc59"),u={data:function(){return{email:"",showSuccess:!1,errorMsg:""}},methods:{resetPassword:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return t.errorMsg="",s.prev=1,s.next=4,c["a"].sendPasswordResetEmail(t.email);case 4:t.showSuccess=!0,s.next=10;break;case 7:s.prev=7,s.t0=s["catch"](1),t.errorMsg=s.t0.message;case 10:case"end":return s.stop()}}),s,null,[[1,7]])})))()}}},d=u,p=i("2877"),m=Object(p["a"])(d,n,r,!1,null,null,null),h=m.exports,g=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",[i("div",{attrs:{id:"password"}},[i("ul",{staticStyle:{"padding-bottom":"0",margin:"0"}},[i("li",{class:{is_valid:t.contains_six_characters}},[i("strong",[t._v("Must")]),t._v(" contain 6 Characters ")]),i("li",{class:{is_valid:t.contains_number}},[t._v("Contain Number")]),i("li",{class:{is_valid:t.contains_uppercase}},[t._v("Contain Uppercase")]),i("li",{class:{is_valid:t.contains_special_character}},[t._v("Contain Special Character")])]),i("section",{staticStyle:{padding:"0",margin:"0"}},[t.passed_password.length>0?i("p",{staticStyle:{padding:"0","text-align":"center"}},[t._v(" Password Strength: "),i("strong",[t._v(t._s(t.checkPassword()))])]):i("p",{staticStyle:{padding:"0","text-align":"center"}},[t._v(" Password is "),i("strong",[t._v("empty")])]),i("div",{staticClass:"checkmark_container",class:{show_checkmark:t.valid_password}},[i("svg",{attrs:{height:"30%",viewBox:"0 0 140 100",width:"30%"}},[i("path",{staticClass:"checkmark",class:{checked:t.valid_password},attrs:{d:"M10,50 l25,40 l95,-70"}})])])])])])},f=[],v={name:"Password",data:function(){return{password_length:0,contains_six_characters:!1,contains_number:!1,contains_uppercase:!1,contains_special_character:!1,valid_password:!1}},props:{passed_password:{type:String}},methods:{checkPassword:function(){this.password_length=this.passed_password.length;var t=/[ !@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]/;return this.contains_six_characters=this.password_length>5,this.contains_number=/\d/.test(this.passed_password),this.contains_uppercase=/[A-Z]/.test(this.passed_password),this.contains_special_character=t.test(this.passed_password),this.valid_password=!0===this.contains_six_characters&&!0===this.contains_special_character&&!0===this.contains_uppercase&&!0===this.contains_number,this.valid_password?"strong":"weak"}},computed:function(){this.checkPassword()}},_=v,w=Object(p["a"])(_,g,f,!1,null,null,null),b=w.exports,y=i("2f62"),F={components:{Password:b,PasswordReset:h},data:function(){return{loginForm:{email:"",password:""},signupForm:{name:"",nationality:"",email:"",password:"",confirm_password:"",password_strength:"",confirm_password_match:!1,contains_six_characters:!1},showLoginForm:!0,showPasswordReset:!1,points:[],steps:0,hueBase:180,hueRange:60,maxSteps:1e3,numPoints:10,subGroups:4,animation_speed:5,sinkFactor:.99,orbitMin:0,orbitMax:.01,value:[],options:[],optionsNationality:[],search:"",searchNationality:""}},methods:{toggleForm:function(){this.showLoginForm=!this.showLoginForm},togglePasswordReset:function(){this.showPasswordReset=!this.showPasswordReset},login:function(){this.$store.dispatch("login",{email:this.loginForm.email,password:this.loginForm.password})},signup:function(){this.$store.dispatch("signup",{email:this.signupForm.email,password:this.signupForm.password,name:this.signupForm.name,nationality:this.signupForm.nationality[0],country_interested:this.value})},checkPasswordRegister:function(){var t=this.signupForm.password.length,s=/[ !@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]/;this.signupForm.contains_six_characters=t>5;var i=/\d/.test(this.signupForm.password),e=/[A-Z]/.test(this.signupForm.password),a=s.test(this.signupForm.password);this.signupForm.password_strength=!0===this.signupForm.contains_six_characters&&!0===a&&!0===e&&!0===i,console.log("nationality: ",this.signupForm.nationality)},checkPasswordConfirm:function(){this.signupForm.confirm_password_match=this.signupForm.password===this.signupForm.confirm_password},onOptionClickNationality:function(t){var s=t.option;this.signupForm.nationality=s,this.search=""},onOptionClick:function(t){var s=t.option,i=t.addTag;i(s),this.search=""},removeTagNationality:function(){this.signupForm.nationality=""},resetForm:function(){this.signupForm.name="",this.signupForm.nationality="",this.signupForm.email="",this.signupForm.password="",this.signupForm.confirm_password="",this.signupForm.password_strength="",this.signupForm.confirm_password_match=!1,this.signupForm.contains_six_characters=!1,this.search="",this.value=[]}},created:function(){this.$store.dispatch("addCountries"),this.options=this.$store.state.country_options_dropdown,this.optionsNationality=this.$store.state.country_options_dropdown},computed:Object(o["a"])(Object(o["a"])({},Object(y["b"])(["country_options_dropdown"])),{},{criteriaNationality:function(){return this.searchNationality.trim().toLowerCase()},availableOptionsNationality:function(){var t=this,s=this.criteriaNationality,i=this.optionsNationality.filter((function(s){return-1===t.signupForm.nationality.indexOf(s)}));return s?i.filter((function(t){return t.toLowerCase().indexOf(s)>-1})):i},searchDescNationality:function(){return this.criteriaNationality&&0===this.availableOptionsNationality.length?"There are no tags matching your search criteria":""},criteria:function(){return this.search.trim().toLowerCase()},availableOptions:function(){var t=this,s=this.criteria,i=this.options.filter((function(s){return-1===t.value.indexOf(s)}));return s?i.filter((function(t){return t.toLowerCase().indexOf(s)>-1})):i},searchDesc:function(){return this.criteria&&0===this.availableOptions.length?"There are no tags matching your search criteria":""}})},x=F,k=Object(p["a"])(x,e,a,!1,null,null,null);s["default"]=k.exports},"841c":function(t,s,i){"use strict";var e=i("d784"),a=i("825a"),o=i("1d80"),n=i("129f"),r=i("14c3");e("search",1,(function(t,s,i){return[function(s){var i=o(this),e=void 0==s?void 0:s[t];return void 0!==e?e.call(s,i):new RegExp(s)[t](String(i))},function(t){var e=i(s,t,this);if(e.done)return e.value;var o=a(t),l=String(this),c=o.lastIndex;n(c,0)||(o.lastIndex=0);var u=r(o,l);return n(o.lastIndex,c)||(o.lastIndex=c),null===u?-1:u.index}]}))},c8d2:function(t,s,i){var e=i("d039"),a=i("5899"),o="​᠎";t.exports=function(t){return e((function(){return!!a[t]()||o[t]()!=o||a[t].name!==t}))}}}]);
//# sourceMappingURL=login.b3acd8b6.js.map